<ActionBar title="LOG IN" class="action-bar bg-darkblue">
    <NavigationButton text="{{'Back' | L}}" android.systemIcon="ic_menu_back" (tap)="goBack()"></NavigationButton>
    <Label [text]="(resetMode ? ('RESET PASSWORD' | L) : (registerMode ? ('SIGN UP' | L) : ('LOG IN' | L)))" id="title_log_in" class="alarm-text"></Label>

</ActionBar>

<GridLayout class="homeBackgroundImage"
            backgroundImage="~/assets/AppDesignSources_FreigestellteBilder_bg_harbour_gray.png">
    <ScrollView orientation="vertical">
        <StackLayout class="form" paddingTop="10">
            <PreviousNextView>
                <StackLayout>
                    <StackLayout class="input-field" padding="0, 10, 0, 10" *ngIf="registerMode">
                        <TextField
                                fontSize="18"
                                returnKeyType="next"
                                [autocorrect]="false"
                                autocapitalizationType="none"
                                [(ngModel)]="firstname"
                                id="first_name"
                                hint="{{'First Name' | L}}"
                        ></TextField>
                    </StackLayout>
                    <StackLayout class="input-field" padding="0, 10, 0, 10" *ngIf="registerMode">
                        <TextField
                                fontSize="18"
                                returnKeyType="next"
                                [autocorrect]="false"
                                autocapitalizationType="none"
                                [(ngModel)]="lastname"
                                id="name"
                                hint="{{'Last Name' | L}}">
                        ></TextField>
                    </StackLayout>
                    <StackLayout class="input-field" padding="0, 10, 0, 10">
                        <TextField
                                fontSize="18"
                                returnKeyType="next"
                                [autocorrect]="false"
                                autocapitalizationType="none"
                                [(ngModel)]="email"
                                keyboardType="email"
                                id="email"
                                hint="{{'E-Mail' | L}}">
                        ></TextField>
                    </StackLayout>
                    <StackLayout class="input-field" padding="0, 10, 0, 10" *ngIf="registerMode">
                        <TextField
                                fontSize="18"
                                returnKeyType="next"
                                [autocorrect]="false"
                                autocapitalizationType="none"
                                [(ngModel)]="phone"
                                keyboardType="phone"
                                id="phone"
                                hint="{{'Phone number' | L}}">
                        ></TextField>
                    </StackLayout>
                    <StackLayout class="input-field" padding="0, 10, 0, 10" *ngIf="!resetMode">
                        <TextField
                                fontSize="18"
                                returnKeyType="next"
                                [autocorrect]="false"
                                autocapitalizationType="none"
                                [(ngModel)]="password"
                                [secure]="true"
                                id="password"
                                hint="{{'Password' | L}}">
                        ></TextField>
                    </StackLayout>
                    <StackLayout class="input-field" padding="0, 10, 0, 10" *ngIf="registerMode && !isLoading">
                        <TextField
                                fontSize="18"
                                returnKeyType="done"
                                [autocorrect]="false"
                                autocapitalizationType="none"
                                [(ngModel)]="passwordRepeat"
                                [secure]="true"
                                id="password"
                                hint="{{'Repeat Password' | L}}">
                        ></TextField>
                    </StackLayout>
                </StackLayout>
            </PreviousNextView>
            <Button
                    marginTop="10"
                    text="{{'Login' | L}}"
                    class="alarm-button"
                    (tap)="saveForm()"
                    *ngIf="!registerMode && !resetMode && !isLoading"
            ></Button>
            <Button
                    marginTop="10"
                    text="{{'Sign Up' | L}}"
                    class="alarm-button"
                    (tap)="saveForm()"
                    *ngIf="registerMode && !isLoading"
            ></Button>
            <Button
                    marginTop="10"
                    text="{{'Reset Password' | L}}"
                    class="alarm-button"
                    (tap)="saveForm()"
                    *ngIf="resetMode && !isLoading"
            ></Button>
            <StackLayout>
                <Button
                        marginTop="10"
                        class="alarm-button"
                        text="{{'Not registered yet? Sign Up!' | L}}"
                        *ngIf="!registerMode && !resetMode"
                        (tap)="registerMode = true">
                </Button>
                <Button
                        marginTop="10"
                        class="alarm-button"
                        text="{{'Already registered? Login!' | L}}"
                        *ngIf="registerMode"
                        (tap)="registerMode = false">
                </Button>
            </StackLayout>
            <StackLayout>
                <Button
                        marginTop="10"
                        class="alarm-button"
                        text="{{'Forgot password?' | L}}"
                        *ngIf="!registerMode && !resetMode"
                        (tap)="resetMode = true">
                </Button>
                <Button
                        marginTop="10"
                        class="alarm-button"
                        text="{{'Back to registration' | L}}"
                        *ngIf="resetMode"
                        (tap)="resetMode = false">
                </Button>
            </StackLayout>
            <ActivityIndicator [busy]="isLoading">
            </ActivityIndicator>
        </StackLayout>
    </ScrollView>
</GridLayout>
